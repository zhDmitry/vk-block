webpackJsonp([1],{"8btV":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Open Dialog")]),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Use Google's location service?")])]),t._v(" "),a("v-card-text",[t._v("Lorem ips")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("Disagree")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("Agree")])],1)],1)],1)],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},"9gf2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{app:""}},[a("v-toolbar-items",[a("v-flex",{attrs:{xs5:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(e){t.auth()}}},[t._v("Get Token")])],1),t._v(" "),a("v-flex",{attrs:{xs7:""}},[a("v-text-field",{attrs:{value:t.token,label:"put you token here"},on:{input:t.changeToken}})],1)],1)],1),t._v(" "),a("main",[a("v-content",[a("v-container",{attrs:{fluid:""}},[a("settings",{attrs:{token:t.token}})],1)],1)],1)],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},DQOb:function(t,e){},G2JV:function(t,e){},"J+R/":function(t,e,a){"use strict";function n(t){a("UpqY")}var r=a("ngLG"),o=a("9gf2"),s=a("VU/8"),i=n,l=s(r.a,o.a,!1,i,"data-v-51be77a6",null);e.a=l.exports},JZSy:function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),o=a("fZjL"),s=a.n(o),i=a("n5Qe"),l=a("M4fF");a.n(l);e.a={data:function(){return{ids:[],progress:0,dialog:!1,reason:"0",groupName:"",skipList:"",banFirst:30,delayAfterUserEnd:1,delay:1}},props:["token"],name:"settings",mounted:function(){var t=this,e=localStorage.getItem("formData");if(e&&"undefined"!==e){var a=JSON.parse(e);a.ids=[],a.dialog=!1,a.progress=0,s()(a).forEach(function(e){t.$data[e]=a[e]})}setInterval(function(){localStorage.setItem("formData",r()(t.$data))},3e3)},methods:{ban:function(){var t=this;this.$data.ids=[],this.$data.progress=0;var e=this.$data,a=e.reason,n=(e.groupsList,e.skipList),r=e.banFirst,o=e.groupName,s=e.delayAfterUserEnd,l=e.delay,u=n.split(/[, ]+/).map(function(t){return Number(t)});this.$data.dialog=!0;var c={};Object(i.a)({reason:a,skipList:n,updateState:function(e){console.log(e.from_id,c),c[e.from_id]||t.$data.ids.push(e),c[e.from_id]=!0},shouldBan:function(e){var a=e.from_id;return t.$data.progress+=Math.ceil(100/Number(r)),-1===u.indexOf(a)&&a>0},token:this.token,banFirst:r,delayAfterUserEnd:s,delay:l,groupName:o}).start().then(function(e){t.$data.progress=100,console.log(e)})}}}},M93x:function(t,e,a){"use strict";function n(t){a("G2JV")}var r=a("xJD8"),o=a("utSe"),s=a("VU/8"),i=n,l=s(r.a,o.a,!1,i,null,null);e.a=l.exports},MeSy:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"grey lighten-4",flat:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(e){t.ban()}}},[t._v("Начать")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("p",[t._v("Банить за")]),t._v(" "),a("v-radio-group",{attrs:{mandatory:!1},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}},[a("v-radio",{attrs:{label:"Спам",value:"0"}}),t._v(" "),a("v-radio",{attrs:{label:"детская порнография",value:"1"}}),t._v(" "),a("v-radio",{attrs:{label:"экстремизм",value:"2"}}),t._v(" "),a("v-radio",{attrs:{label:"насилие",value:"3"}}),t._v(" "),a("v-radio",{attrs:{label:"пропаганда наркотиков",value:"4"}}),t._v(" "),a("v-radio",{attrs:{label:"материал для взрослых",value:"5"}}),t._v(" "),a("v-radio",{attrs:{label:"оскорбление",value:"6"}}),t._v(" "),a("v-radio",{attrs:{label:"призывы к суициду",value:"8"}})],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-slider",{attrs:{label:"Банить первые "+t.banFirst+" постов"},model:{value:t.banFirst,callback:function(e){t.banFirst=e},expression:"banFirst"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-slider",{attrs:{max:10,label:"Банить юзера раз в "+t.delay+" секунд"},model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"",label:"Название группы"},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"","multi-line":"",label:"Каких людей надо пропустить(12,123,123,) список айдишников"},model:{value:t.skipList,callback:function(e){t.skipList=e},expression:"skipList"}})],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Заблокированные пользователи")])]),t._v(" "),a("v-card-text",[100!==t.progress?a("v-flex",{staticStyle:{display:"flex","justify-content":"center"},attrs:{xs12:""}},[a("v-progress-circular",{attrs:{size:100,width:15,rotate:-90,value:t.progress,color:"primary"}},[t._v("\n            "+t._s(t.progress)+"\n          ")])],1):t._e(),t._v(" "),t._l(t.ids,function(e){return a("div",{key:e.from_id},[a("a",{attrs:{target:"_blank",href:"https:/vk.com/id"+e.from_id}},[t._v(" id"+t._s(e.from_id)+" ")])])})],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")])],1)],1)],1)],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r=a("3EgV"),o=a.n(r),s=a("M93x");n.a.use(o.a),e.default=new n.a({el:"#app",render:function(t){return t(s.a)}})},UpqY:function(t,e){},dc43:function(t,e,a){"use strict";function n(t){a("p91e")}var r=a("ybql"),o=a("8btV"),s=a("VU/8"),i=n,l=s(r.a,o.a,!1,i,null,null);e.a=l.exports},n5Qe:function(t,e,a){"use strict";a.d(e,"a",function(){return h});var n=a("+6Bu"),r=a.n(n),o=a("Gu7T"),s=a.n(o),i=a("Dd8w"),l=a.n(i),u=a("lHA8"),c=a.n(u),d=a("//Fk"),v=a.n(d),f=a("mtWM"),p=a.n(f),g=a("b1It"),m=a.n(g),_=function(t){return new v.a(function(e,a){setTimeout(function(){e()},t)})},h=function(t){var e=t.token,a=t.reason,n=t.groupName,o=t.shouldBan,i=void 0===o?function(){return!0}:o,u=t.updateState,d=t.catchError,f=(void 0===d&&console.error,t.groupsList,t.skipList,t.banFirst),g=(t.delayAfterUserEnd,t.delay),h=p.a.create({baseURL:"https://api.vk.com/method/",adapter:m.a}),b={access_token:e,v:"5.53"},k=new c.a,x=function(){return h.get("users.get",{params:l()({},b,{user_ids:[].concat(s()(k)).join(",")})})},y=function(t){var e=t.id,n=t.owner_id,o=r()(t,["id","owner_id"]);return _(1e3*Number(g)).then(function(){return i(l()({id:e,owner_id:n},o))}).then(function(t){return t?v.a.resolve():v.a.reject()}).then(function(){return h.get("wall.reportPost",{params:l()({},b,{reason:a,owner_id:n})})}).then(function(t){u(l()({id:e,owner_id:n},o))})},w=function(){return h.get("wall.get",{params:l()({},b,{count:Number(f),offset:0,domain:n})}).then(function(t){return t.data.response.items})};return{start:function(){return w().then(function(t){return t.reduce(function(t,a){return t.then(function(){return y(l()({},a,{token:e,groupName:n})).then(function(t){k.add(a)}).catch(console.error)})},v.a.resolve()).then(function(){return[].concat(s()(k))})})},getBannded:x}}},ngLG:function(t,e,a){"use strict";var n=a("niH5"),r=a("dc43");e.a={name:"auth",components:{Settings:n.a,Report:r.a},data:function(){return{token:""}},mounted:function(){this.$data.token=localStorage.getItem("token")},methods:{changeToken:function(t){this.$data.token=t,localStorage.setItem("token",t)},auth:function(){window.open("https://oauth.vk.com/authorize?client_id=5446940&scope=messages,users,wall,groups,photos,offline&redirect_uri=https://oauth.vk.com/blank.html&display=page&response_type=token","Auth","width=1200, height=200")}}}},niH5:function(t,e,a){"use strict";function n(t){a("DQOb")}var r=a("JZSy"),o=a("MeSy"),s=a("VU/8"),i=n,l=s(r.a,o.a,!1,i,null,null);e.a=l.exports},p91e:function(t,e){},utSe:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("auth")],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},xJD8:function(t,e,a){"use strict";var n=a("J+R/");e.a={components:{Auth:n.a},name:"app"}},ybql:function(t,e,a){"use strict";e.a={name:"report",data:function(){return{users:[210700286]}}}}},["NHnr"]);
//# sourceMappingURL=app.8a1ef07cb2e23c2cc781.js.map